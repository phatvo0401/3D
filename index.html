<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VTP | NEON FORGE 3D</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        /* HỆ MÀU DỰA TRÊN ẢNH MẪU */
        :root { 
            --neon-pink: #ff4d94; 
            --deep-purple: #1a0b16;
            --glass: rgba(255, 77, 148, 0.03); 
            --border: rgba(255, 77, 148, 0.25); 
        }
        
        body { 
            font-family: 'Lexend', sans-serif; 
            background-color: #080808; 
            /* Hiệu ứng tia sáng dọc ở Header giống ảnh mẫu */
            background-image: 
                linear-gradient(to bottom, rgba(255, 77, 148, 0.05) 1px, transparent 1px),
                radial-gradient(at 50% 0%, rgba(255, 77, 148, 0.15) 0px, transparent 40%);
            background-size: 100% 100%, 100% 100%;
            background-attachment: fixed; color: #ffffff; overflow-x: hidden; 
            cursor: none !important; 
        }

        /* TÙY CHỈNH CHUỘT NEON */
        #cursor-follower {
            width: 15px; height: 15px; background: var(--neon-pink); border-radius: 50%;
            position: fixed; top: 0; left: 0; pointer-events: none; z-index: 99999;
            transform: translate(-50%, -50%); 
            box-shadow: 0 0 15px var(--neon-pink), 0 0 30px var(--neon-pink);
            display: none; transition: transform 0.1s ease-out;
        }

        /* NÚT BACK TO TOP (GIỮ NGUYÊN FORM CHUẨN) */
        #backToTop { 
            position: fixed; bottom: 30px; right: 30px; width: 45px; height: 45px; border-radius: 50%; 
            background: #080808; border: 1px solid var(--neon-pink); color: var(--neon-pink); 
            z-index: 100; display: flex; align-items: center; justify-content: center; 
            opacity: 0; visibility: hidden; transition: 0.3s;
            box-shadow: 0 0 10px rgba(255, 77, 148, 0.2);
            cursor: none !important;
        }
        #backToTop.show { opacity: 1; visibility: visible; }

        /* LOADER */
        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #080808;
            z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: transform 0.8s cubic-bezier(0.85, 0, 0.15, 1);
        }
        .loader-bar { width: 200px; height: 1px; background: rgba(255, 77, 148, 0.1); position: relative; }
        #loader-progress { position: absolute; height: 100%; background: var(--neon-pink); width: 0%; box-shadow: 0 0 10px var(--neon-pink); }

        /* THIẾT KẾ CARD GIỐNG ẢNH MẪU */
        .viewport-card {
            background: #0d0d0d; border: 1px solid var(--border); border-radius: 30px;
            padding: 15px; transition: all 0.4s ease; position: relative; overflow: hidden;
        }
        .viewport-card:hover { border-color: var(--neon-pink); box-shadow: 0 0 30px rgba(255, 77, 148, 0.15); }
        
        .three-container { 
            width: 100%; aspect-ratio: 16/10; background: #050505; border-radius: 20px; 
            overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .btn-download {
            background: var(--neon-pink); color: white; padding: 8px 20px; border-radius: 99px;
            font-size: 10px; font-weight: 800; text-transform: uppercase; letter-spacing: 1px;
            transition: 0.3s;
        }
        .btn-download:hover { transform: scale(1.05); box-shadow: 0 0 20px var(--neon-pink); }

        @media (max-width: 768px) { #cursor-follower { display: none !important; } body { cursor: auto !important; } }
    </style>
</head>
<body>

    <div id="cursor-follower"></div>

    <div id="loader">
        <div class="mb-6 flex items-center gap-2">
            <span class="text-2xl font-black text-[#ff4d94]">NEON.</span><span class="text-2xl font-light">FORGE</span>
        </div>
        <div class="loader-bar"><div id="loader-progress"></div></div>
    </div>

    <nav class="fixed w-full z-50 py-5 px-10 flex justify-between items-center bg-black/50 backdrop-blur-md">
        <div class="flex items-center gap-2">
            <span class="text-xl font-black text-[#ff4d94]">NEON.</span><span class="text-xl font-light">FORGE</span>
        </div>
        <div class="flex gap-8 text-[10px] font-bold uppercase tracking-widest text-gray-400">
            <a href="#" class="hover:text-[#ff4d94] transition-colors">#Showcase</a>
            <a href="https://phatvo0401.github.io/" class="hover:text-[#ff4d94] transition-colors">Về tôi</a>
            <a href="#" class="hover:text-[#ff4d94] transition-colors">Contact</a>
        </div>
    </nav>

    <header class="pt-60 pb-20 px-10 max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-10 items-center">
        <div>
            <p class="text-[#ff4d94] text-[10px] font-bold uppercase tracking-[0.4em] mb-4">As in virtual</p>
            <h1 class="text-6xl md:text-7xl font-black leading-none mb-6">CYBERNETIC<br><span class="text-[#ff4d94]">SCULPTURES</span></h1>
            <p class="text-gray-500 text-sm max-w-sm mb-8 leading-relaxed">Tạo ra những trải nghiệm kỹ thuật số với công nghệ 3D tiên tiến nhất. Thiết kế tương lai, tối ưu trải nghiệm người dùng.</p>
            <button class="btn-download">Tải bản Model.stl</button>
        </div>
        <div class="viewport-card">
            <div class="three-container" id="hero-model"></div>
            <p class="text-center mt-4 text-[10px] text-gray-500 uppercase tracking-widest">vitree-sport container .STL</p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-10 pb-40">
        <div class="mb-12"><h2 class="text-2xl font-bold uppercase italic">Showcase</h2></div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="main-grid"></div>
    </main>

    <button id="backToTop">↑</button>

    <script type="importmap">{ "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js", "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/" } }</script>

    <script type="module">
        import * as THREE from 'three';
        import { STLLoader } from 'three/addons/loaders/STLLoader.js';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        // Custom Cursor
        const cursor = document.getElementById('cursor-follower');
        document.addEventListener('mousemove', (e) => {
            if (window.innerWidth > 768) {
                cursor.style.display = 'block';
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            }
        });

        // Loader
        const loaderProgress = document.getElementById('loader-progress');
        let prog = 0;
        const interval = setInterval(() => {
            prog += Math.random() * 10;
            if (prog >= 100) {
                prog = 100; clearInterval(interval);
                setTimeout(() => document.getElementById('loader').style.transform = 'translateY(-100%)', 500);
            }
            loaderProgress.style.width = prog + '%';
        }, 50);

        const myModels = [
            { id: 'm1', name: 'Cyber Doll 01', file: 'model.stl' },
            { id: 'm2', name: 'Cyber Doll 02', file: 'model.stl' },
            { id: 'm3', name: 'Cyber Doll 03', file: 'model.stl' }
        ];

        function init3D(id, path, isWireframe = true) {
            const container = document.getElementById(id);
            if (!container) return;
            
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(45, container.clientWidth / container.clientHeight, 0.1, 1000);
            camera.position.set(0, 40, 80);

            const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            container.appendChild(renderer.domElement);

            const group = new THREE.Group();
            scene.add(group);

            // Polar Grid Neon
            const grid = new THREE.PolarGridHelper(30, 16, 8, 64, 0xff4d94, 0x111111);
            grid.position.y = -20;
            grid.material.opacity = 0.3;
            grid.material.transparent = true;
            group.add(grid);

            // Lighting
            const light1 = new THREE.DirectionalLight(0xff4d94, 3);
            light1.position.set(10, 20, 10);
            scene.add(light1);
            scene.add(new THREE.AmbientLight(0xffffff, 0.5));

            const controls = new OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.autoRotate = true;
            controls.autoRotateSpeed = 2;

            new STLLoader().load(path, (geo) => {
                geo.center();
                // Material Wireframe sáng hồng giống ảnh mẫu
                const mat = new THREE.MeshPhongMaterial({ 
                    color: 0xff4d94, 
                    wireframe: true,
                    transparent: true,
                    opacity: 0.8,
                    emissive: 0xff4d94,
                    emissiveIntensity: 0.5
                });
                
                const mesh = new THREE.Mesh(geo, mat);
                mesh.rotation.x = -Math.PI / 2;
                
                const box = new THREE.Box3().setFromObject(mesh);
                const scale = 45 / Math.max(box.getSize(new THREE.Vector3()).x, box.getSize(new THREE.Vector3()).y);
                mesh.scale.set(scale, scale, scale);
                
                group.add(mesh);

                function animate() {
                    requestAnimationFrame(animate);
                    controls.update();
                    renderer.render(scene, camera);
                }
                animate();
            });
        }

        // Render Cards
        const gridEl = document.getElementById('main-grid');
        myModels.forEach(m => {
            const div = document.createElement('div');
            div.className = 'viewport-card';
            div.innerHTML = `
                <div class="three-container" id="${m.id}"></div>
                <div class="mt-6 flex justify-between items-center">
                    <span class="text-xs font-bold uppercase tracking-widest text-[#ff4d94]">${m.name}</span>
                    <button class="text-[9px] border border-white/10 px-3 py-1 rounded-full hover:bg-white hover:text-black transition">View Info</button>
                </div>
            `;
            gridEl.appendChild(div);
            init3D(m.id, m.file);
        });

        init3D('hero-model', 'model.stl');

        // Scroll
        const btt = document.getElementById('backToTop');
        window.onscroll = () => { if (window.scrollY > 500) btt.classList.add('show'); else btt.classList.remove('show'); };
        btt.onclick = () => window.scrollTo({ top: 0, behavior: 'smooth' });
    </script>
</body>
</html>
